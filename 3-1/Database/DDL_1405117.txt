CREATE TABLE BUILDING 
(
	BUILD_ID NUMBER(10),
	BUILD_NAME VARCHAR2(25),
	BUILD_TYPE VARCHAR2(25),
	LOCATION_NAME VARCHAR2(25),
	CONSTRAINT BUILDING_PK PRIMARY KEY(BUILD_ID, BUILD_NAME)
);


INSERT INTO BUILDING(BUILD_ID, BUILD_NAME, BUILD_TYPE, LOCATION_NAME) VALUES (5, 'UDAYAN', 'A','POLASHI');


CREATE TABLE FLAT
(
	FLAT_ID NUMBER (10),
	FLOOR_NO NUMBER(10),
	SIDE VARCHAR2(25),
	AREA VARCHAR2(25),
	BUILD_ID NUMBER(10),
	BUILD_NAME VARCHAR2(25),
	CONSTRAINT FLAT_PK PRIMARY KEY(FLAT_ID),
	CONSTRAINT FLAT_FK FOREIGN KEY (BUILD_ID, BUILD_NAME) REFERENCES 
	BUILDING(BUILD_ID,BUILD_NAME)
);


INSERT INTO FLAT(FLAT_ID, FLOOR_NO, SIDE, AREA, BUILD_ID, BUILD_NAME) 
VALUES (2, 3, 'SOUTH', 'RED', (SELECT BUILD_ID FROM BUILDING WHERE BUILD_ID=5),
( SELECT BUILD_NAME FROM BUILDING WHERE BUILD_NAME='UDAYAN'));



CREATE TABLE RESIDENTS
(
	R_ID NUMBER(10),
	R_NAME VARCHAR2(25),
	DESIGNATION VARCHAR2(25),
	ALLOT_DATE DATE,
	RELEASE_DATE DATE,
	FLAT_NO NUMBER(10),
	CONSTRAINT RESIDENT_PK PRIMARY KEY(R_ID),
	CONSTRAINT RESIDENT_FK FOREIGN KEY(FLAT_NO) REFERENCES FLAT(FLAT_ID)
);

INSERT INTO RESIDENTS(R_ID, R_NAME, DESIGNATION, ALLOT_DATE, RELEASE_DATE, FLAT_NO) 
VALUES (1, 'TAMIM', 'TEACHER', '10-JAN-2010', 
'12-JUN-2016', (SELECT FLAT_ID FROM FLAT WHERE FLAT_ID=2));



CREATE TABLE EMPLOYEE
(
	EMP_ID NUMBER(10),
	NAME VARCHAR2(25),
	ADDRESS VARCHAR2(25),
	APP_DATE DATE,
	REL_DATE DATE,
	MOBILE NUMBER(13),
	OVERTIME NUMBER(10),
	CONSTRAINT EMPLOYEE_PK PRIMARY KEY(EMP_ID)
);

INSERT INTO EMPLOYEE(EMP_ID, NAME, ADDRESS) VALUES (2, 'HASIB', 'POLASHI');


CREATE TABLE COMPLAIN
(
	R_ID NUMBER(10),
	EMP_ID NUMBER(10),
	CMP_TYPE VARCHAR2(25),
	RESDINT_INFO VARCHAR2(50),
	FLAT_INFO VARCHAR2(50),
	CMP_DATE DATE,
	CONSTRAINT CMP_PK PRIMARY KEY(R_ID, EMP_ID),
	CONSTRAINT CMP_FK FOREIGN KEY(R_ID, EMP_ID) REFERENCES RESIDENTS(R_ID), EMPLOYEE(EMP_ID)

);


INSERT INTO COMPLAIN(R_ID, EMP_ID) VALUES ((SELECT R_ID FROM RESIDENTS WHERE R_ID=1), 
(SELECT EMP_ID FROM EMPLOYEE WHERE EMP_ID=2));



CREATE TABLE APPOINT_CMP
(
	ENG_ID NUMBER(10),
	TECH_ID NUMBER(10),
	COMPLETION_DATE DATE,
	CONSTRAINT APP_PK PRIMARY KEY(ENG_ID, TECH_ID),

);


INSRET INTO APPOINT_CMP(ENG_ID, TECH_ID) VALUES (10, 5);


CREATE TABLE GIVES_CMP
(
	ENG_ID NUMBER(10),
	EMP_ID NUMBER(10),
	NAME VARCHAR2(25),
	ADDRESS VARCHAR2(25),
	EXPERT VARCHAR2(25)
	CONSTRAINT ENG_PK PRIMARY KEY(ENG_ID),
	CONSTRAINT ENG_FK FOREIGN KEY(EMP_ID) REFERENCES EMPLOYEE(EMP_ID)
);

INSERT INTO GIVES_CMP(ENG_ID, NAME) VALUES (10, 'SAKIB');
	






